{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\fouan\\\\Desktop\\\\NASA\\\\react-puzzle-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\fouan\\\\Desktop\\\\NASA\\\\react-puzzle-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\fouan\\\\Desktop\\\\NASA\\\\react-puzzle-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\fouan\\\\Desktop\\\\NASA\\\\react-puzzle-forked\\\\src\\\\components\\\\tile.component.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { SELECT_TILE, UNSELECT_TILE, UPDATE_TILE_STATUS, RESET_SWAP } from \"../store/constants\";\nvar wobble = keyframes(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  0% {\\n    transform: rotate(0deg) scale(1.07);\\n  }\\n  25% {\\n    transform: rotate(-10deg) scale(1.07);\\n  }\\n  50% {\\n    transform: rotate(10deg) scale(1.07);\\n  }\\n  100% {\\n    transform: rotate(0deg) scale(1.07);\\n  }\\n\"])));\nvar Container = styled.button(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  height: \", \"px;\\n  width: \", \"px;\\n  border: 1px solid rgba(0, 0, 0, 0.4);\\n  background-image: \", \";\\n  background-repeat: no-repeat;\\n  /* background-color: dodgerblue; */\\n  background-position: \", \"% \", \"%;\\n  transition: all 0.2s;\\n  position: absolute;\\n  z-index: 1;\\n  left: \", \"px;\\n  top: \", \"px;\\n  cursor: pointer;\\n\\n  &.active {\\n    box-shadow: 0 2px 25px rgba(0, 0, 0, 0.5);\\n    border: 3px solid rgba(255, 255, 255, 0.25);\\n    z-index: 2;\\n    animation: \", \" 1s infinite;\\n  }\\n\\n  &:disabled {\\n    cursor: not-allowed;\\n  }\\n\"])), function (_ref) {\n  var height = _ref.height;\n  return height;\n}, function (_ref2) {\n  var width = _ref2.width;\n  return width;\n}, function (props) {\n  return \"url(\" + props.imageUrl + \")\" || \"none\";\n}, function (_ref3) {\n  var xPos = _ref3.xPos;\n  return xPos;\n}, function (_ref4) {\n  var yPos = _ref4.yPos;\n  return yPos;\n}, function (_ref5) {\n  var left = _ref5.left;\n  return left;\n}, function (_ref6) {\n  var top = _ref6.top;\n  return top;\n}, wobble);\nexport var Tile = function Tile(_ref7) {\n  var originalX = _ref7.x,\n      originalY = _ref7.y,\n      randomX = _ref7.randomX,\n      randomY = _ref7.randomY;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isClicked = _useState2[0],\n      setIsClicked = _useState2[1];\n\n  var _useSelector = useSelector(function (_ref8) {\n    var board = _ref8.board,\n        image = _ref8.image,\n        game = _ref8.game;\n    return _objectSpread(_objectSpread(_objectSpread({}, board), image), game);\n  }),\n      rows = _useSelector.rows,\n      columns = _useSelector.columns,\n      url = _useSelector.url,\n      imageWidth = _useSelector.width,\n      imageHeight = _useSelector.height,\n      swap = _useSelector.swap;\n\n  var selectedTiles = useSelector(function (_ref9) {\n    var game = _ref9.game;\n    return game.tiles;\n  });\n  var isGamePlaying = useSelector(function (_ref10) {\n    var game = _ref10.game;\n    return game.isPlaying;\n  });\n\n  var _useState3 = useState(randomX),\n      _useState4 = _slicedToArray(_useState3, 2),\n      x = _useState4[0],\n      setX = _useState4[1];\n\n  var _useState5 = useState(randomY),\n      _useState6 = _slicedToArray(_useState5, 2),\n      y = _useState6[0],\n      setY = _useState6[1];\n\n  var _useState7 = useState(Math.floor(originalX * (100 / (rows - 1)))),\n      _useState8 = _slicedToArray(_useState7, 1),\n      xPos = _useState8[0];\n\n  var _useState9 = useState(Math.floor(originalY * (100 / (columns - 1)))),\n      _useState10 = _slicedToArray(_useState9, 1),\n      yPos = _useState10[0];\n\n  var _useState11 = useState(imageWidth / rows),\n      _useState12 = _slicedToArray(_useState11, 1),\n      width = _useState12[0];\n\n  var _useState13 = useState(imageHeight / columns),\n      _useState14 = _slicedToArray(_useState13, 1),\n      height = _useState14[0];\n\n  var _useState15 = useState(x * width),\n      _useState16 = _slicedToArray(_useState15, 2),\n      left = _useState16[0],\n      setLeft = _useState16[1];\n\n  var _useState17 = useState(y * height),\n      _useState18 = _slicedToArray(_useState17, 2),\n      top = _useState18[0],\n      setTop = _useState18[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (isClicked) {\n      dispatch({\n        type: SELECT_TILE,\n        payload: [x, y]\n      });\n    } else {\n      dispatch({\n        type: UNSELECT_TILE,\n        payload: [x, y]\n      });\n    }\n  }, [isClicked, dispatch, x, y]);\n  useEffect(function () {\n    var amIInRightPlace = originalX === x && originalY === y;\n    dispatch({\n      type: UPDATE_TILE_STATUS,\n      payload: {\n        id: \"\".concat(originalX).concat(originalY),\n        status: amIInRightPlace\n      }\n    });\n  }, [originalX, originalY, x, y, dispatch]);\n  useEffect(function () {\n    var coords = [x, y];\n\n    var isItMe = function isItMe(tile) {\n      return tile.every(function (coord, index) {\n        return coord === coords[index];\n      });\n    };\n\n    if (swap && selectedTiles.some(function (tile) {\n      return isItMe(tile);\n    })) {\n      var _selectedTiles$find = selectedTiles.find(function (tile) {\n        return !isItMe(tile);\n      }),\n          _selectedTiles$find2 = _slicedToArray(_selectedTiles$find, 2),\n          newX = _selectedTiles$find2[0],\n          newY = _selectedTiles$find2[1];\n\n      setLeft(newX * width);\n      setTop(newY * height);\n      setX(newX);\n      setY(newY);\n      setIsClicked(false);\n      dispatch({\n        type: RESET_SWAP\n      });\n    }\n  }, [selectedTiles, swap, height, width, x, y, dispatch]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    className: isClicked ? \"active\" : \"\",\n    onClick: function onClick(e) {\n      return setIsClicked(!isClicked);\n    },\n    left: left,\n    top: top,\n    width: width,\n    height: height,\n    xPos: xPos,\n    yPos: yPos,\n    imageUrl: url,\n    disabled: !isGamePlaying,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"names":["React","useState","useEffect","styled","keyframes","useSelector","useDispatch","SELECT_TILE","UNSELECT_TILE","UPDATE_TILE_STATUS","RESET_SWAP","wobble","Container","button","height","width","props","imageUrl","xPos","yPos","left","top","Tile","originalX","x","originalY","y","randomX","randomY","isClicked","setIsClicked","board","image","game","rows","columns","url","imageWidth","imageHeight","swap","selectedTiles","tiles","isGamePlaying","isPlaying","setX","setY","Math","floor","setLeft","setTop","dispatch","type","payload","amIInRightPlace","id","status","coords","isItMe","tile","every","coord","index","some","find","newX","newY","e"],"sources":["C:/Users/fouan/Desktop/NASA/react-puzzle-forked/src/components/tile.component.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  SELECT_TILE,\r\n  UNSELECT_TILE,\r\n  UPDATE_TILE_STATUS,\r\n  RESET_SWAP\r\n} from \"../store/constants\";\r\n\r\nconst wobble = keyframes`\r\n  0% {\r\n    transform: rotate(0deg) scale(1.07);\r\n  }\r\n  25% {\r\n    transform: rotate(-10deg) scale(1.07);\r\n  }\r\n  50% {\r\n    transform: rotate(10deg) scale(1.07);\r\n  }\r\n  100% {\r\n    transform: rotate(0deg) scale(1.07);\r\n  }\r\n`;\r\n\r\nconst Container = styled.button`\r\n  display: inline-block;\r\n  height: ${({ height }) => height}px;\r\n  width: ${({ width }) => width}px;\r\n  border: 1px solid rgba(0, 0, 0, 0.4);\r\n  background-image: ${props => \"url(\" + props.imageUrl + \")\" || \"none\"};\r\n  background-repeat: no-repeat;\r\n  /* background-color: dodgerblue; */\r\n  background-position: ${({ xPos }) => xPos}% ${({ yPos }) => yPos}%;\r\n  transition: all 0.2s;\r\n  position: absolute;\r\n  z-index: 1;\r\n  left: ${({ left }) => left}px;\r\n  top: ${({ top }) => top}px;\r\n  cursor: pointer;\r\n\r\n  &.active {\r\n    box-shadow: 0 2px 25px rgba(0, 0, 0, 0.5);\r\n    border: 3px solid rgba(255, 255, 255, 0.25);\r\n    z-index: 2;\r\n    animation: ${wobble} 1s infinite;\r\n  }\r\n\r\n  &:disabled {\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nexport const Tile = ({ x: originalX, y: originalY, randomX, randomY }) => {\r\n  const [isClicked, setIsClicked] = useState(false);\r\n  const {\r\n    rows,\r\n    columns,\r\n    url,\r\n    width: imageWidth,\r\n    height: imageHeight,\r\n    swap\r\n  } = useSelector(({ board, image, game }) => ({\r\n    ...board,\r\n    ...image,\r\n    ...game\r\n  }));\r\n\r\n  const selectedTiles = useSelector(({ game }) => game.tiles);\r\n  const isGamePlaying = useSelector(({ game }) => game.isPlaying);\r\n\r\n  const [x, setX] = useState(randomX);\r\n  const [y, setY] = useState(randomY);\r\n\r\n  const [xPos] = useState(Math.floor(originalX * (100 / (rows - 1))));\r\n  const [yPos] = useState(Math.floor(originalY * (100 / (columns - 1))));\r\n\r\n  const [width] = useState(imageWidth / rows);\r\n  const [height] = useState(imageHeight / columns);\r\n\r\n  const [left, setLeft] = useState(x * width);\r\n  const [top, setTop] = useState(y * height);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (isClicked) {\r\n      dispatch({ type: SELECT_TILE, payload: [x, y] });\r\n    } else {\r\n      dispatch({ type: UNSELECT_TILE, payload: [x, y] });\r\n    }\r\n  }, [isClicked, dispatch, x, y]);\r\n\r\n  useEffect(() => {\r\n    const amIInRightPlace = originalX === x && originalY === y;\r\n\r\n    dispatch({\r\n      type: UPDATE_TILE_STATUS,\r\n      payload: { id: `${originalX}${originalY}`, status: amIInRightPlace }\r\n    });\r\n  }, [originalX, originalY, x, y, dispatch]);\r\n\r\n  useEffect(() => {\r\n    const coords = [x, y];\r\n    const isItMe = tile =>\r\n      tile.every((coord, index) => coord === coords[index]);\r\n\r\n    if (swap && selectedTiles.some(tile => isItMe(tile))) {\r\n      const [newX, newY] = selectedTiles.find(tile => !isItMe(tile));\r\n      setLeft(newX * width);\r\n      setTop(newY * height);\r\n      setX(newX);\r\n      setY(newY);\r\n      setIsClicked(false);\r\n      dispatch({ type: RESET_SWAP });\r\n    }\r\n  }, [selectedTiles, swap, height, width, x, y, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <Container\r\n        className={isClicked ? \"active\" : \"\"}\r\n        onClick={e => setIsClicked(!isClicked)}\r\n        left={left}\r\n        top={top}\r\n        width={width}\r\n        height={height}\r\n        xPos={xPos}\r\n        yPos={yPos}\r\n        imageUrl={url}\r\n        disabled={!isGamePlaying}\r\n      />\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}