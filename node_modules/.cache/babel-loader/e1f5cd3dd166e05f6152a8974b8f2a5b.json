{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\fouan\\\\Desktop\\\\NASA\\\\react-puzzle-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nexport var useTimer = function useTimer(initVal) {\n  var _useState = useState(initVal),\n      _useState2 = _slicedToArray(_useState, 2),\n      timeLeft = _useState2[0],\n      setTimeLeft = _useState2[1]; // seconds\n\n\n  var timerIdRef = useRef(null);\n  var currentTimeLeftRef = useRef(initVal);\n  useEffect(function () {\n    return function () {\n      return clearTimeout(timerIdRef.current);\n    };\n  }, []);\n  var pause = useCallback(function () {\n    clearTimeout(timerIdRef.current);\n  }, []);\n  var start = useCallback(function () {\n    timerIdRef.current = setInterval(function () {\n      if (currentTimeLeftRef.current <= 0) {\n        clearInterval(timerIdRef.current);\n        return;\n      }\n\n      currentTimeLeftRef.current = currentTimeLeftRef.current - 1;\n      setTimeLeft(function (time) {\n        return time - 1;\n      });\n    }, 1000); // setTimeLeft(time => time - 1);\n  }, []);\n  var reset = useCallback(function () {\n    clearTimeout(timerIdRef.current);\n    setTimeLeft(initVal);\n    currentTimeLeftRef.current = initVal;\n  }, [initVal]);\n  var restart = useCallback(function () {\n    reset();\n    setTimeout(function () {\n      start();\n    });\n  }, [reset, start]);\n  return [timeLeft, start, pause, reset, restart];\n};","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","useTimer","initVal","timeLeft","setTimeLeft","timerIdRef","currentTimeLeftRef","clearTimeout","current","pause","start","setInterval","clearInterval","time","reset","restart","setTimeout"],"sources":["C:/Users/fouan/Desktop/NASA/react-puzzle-forked/src/hooks/timer.hook.js"],"sourcesContent":["import { useState, useEffect, useRef, useCallback } from \"react\";\r\n\r\nexport const useTimer = initVal => {\r\n  const [timeLeft, setTimeLeft] = useState(initVal); // seconds\r\n  const timerIdRef = useRef(null);\r\n  const currentTimeLeftRef = useRef(initVal);\r\n\r\n  useEffect(() => {\r\n    return () => clearTimeout(timerIdRef.current);\r\n  }, []);\r\n\r\n  const pause = useCallback(() => {\r\n    clearTimeout(timerIdRef.current);\r\n  }, []);\r\n\r\n  const start = useCallback(() => {\r\n    timerIdRef.current = setInterval(() => {\r\n      if (currentTimeLeftRef.current <= 0) {\r\n        clearInterval(timerIdRef.current);\r\n        return;\r\n      }\r\n      currentTimeLeftRef.current = currentTimeLeftRef.current - 1;\r\n      setTimeLeft(time => time - 1);\r\n    }, 1000);\r\n\r\n    // setTimeLeft(time => time - 1);\r\n  }, []);\r\n\r\n  const reset = useCallback(() => {\r\n    clearTimeout(timerIdRef.current);\r\n    setTimeLeft(initVal);\r\n    currentTimeLeftRef.current = initVal;\r\n  }, [initVal]);\r\n\r\n  const restart = useCallback(() => {\r\n    reset();\r\n    setTimeout(() => {\r\n      start();\r\n    });\r\n  }, [reset, start]);\r\n\r\n  return [timeLeft, start, pause, reset, restart];\r\n};\r\n"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,EAAsCC,WAAtC,QAAyD,OAAzD;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,OAAO,EAAI;EACjC,gBAAgCL,QAAQ,CAACK,OAAD,CAAxC;EAAA;EAAA,IAAOC,QAAP;EAAA,IAAiBC,WAAjB,iBADiC,CACkB;;;EACnD,IAAMC,UAAU,GAAGN,MAAM,CAAC,IAAD,CAAzB;EACA,IAAMO,kBAAkB,GAAGP,MAAM,CAACG,OAAD,CAAjC;EAEAJ,SAAS,CAAC,YAAM;IACd,OAAO;MAAA,OAAMS,YAAY,CAACF,UAAU,CAACG,OAAZ,CAAlB;IAAA,CAAP;EACD,CAFQ,EAEN,EAFM,CAAT;EAIA,IAAMC,KAAK,GAAGT,WAAW,CAAC,YAAM;IAC9BO,YAAY,CAACF,UAAU,CAACG,OAAZ,CAAZ;EACD,CAFwB,EAEtB,EAFsB,CAAzB;EAIA,IAAME,KAAK,GAAGV,WAAW,CAAC,YAAM;IAC9BK,UAAU,CAACG,OAAX,GAAqBG,WAAW,CAAC,YAAM;MACrC,IAAIL,kBAAkB,CAACE,OAAnB,IAA8B,CAAlC,EAAqC;QACnCI,aAAa,CAACP,UAAU,CAACG,OAAZ,CAAb;QACA;MACD;;MACDF,kBAAkB,CAACE,OAAnB,GAA6BF,kBAAkB,CAACE,OAAnB,GAA6B,CAA1D;MACAJ,WAAW,CAAC,UAAAS,IAAI;QAAA,OAAIA,IAAI,GAAG,CAAX;MAAA,CAAL,CAAX;IACD,CAP+B,EAO7B,IAP6B,CAAhC,CAD8B,CAU9B;EACD,CAXwB,EAWtB,EAXsB,CAAzB;EAaA,IAAMC,KAAK,GAAGd,WAAW,CAAC,YAAM;IAC9BO,YAAY,CAACF,UAAU,CAACG,OAAZ,CAAZ;IACAJ,WAAW,CAACF,OAAD,CAAX;IACAI,kBAAkB,CAACE,OAAnB,GAA6BN,OAA7B;EACD,CAJwB,EAItB,CAACA,OAAD,CAJsB,CAAzB;EAMA,IAAMa,OAAO,GAAGf,WAAW,CAAC,YAAM;IAChCc,KAAK;IACLE,UAAU,CAAC,YAAM;MACfN,KAAK;IACN,CAFS,CAAV;EAGD,CAL0B,EAKxB,CAACI,KAAD,EAAQJ,KAAR,CALwB,CAA3B;EAOA,OAAO,CAACP,QAAD,EAAWO,KAAX,EAAkBD,KAAlB,EAAyBK,KAAzB,EAAgCC,OAAhC,CAAP;AACD,CAxCM"},"metadata":{},"sourceType":"module"}